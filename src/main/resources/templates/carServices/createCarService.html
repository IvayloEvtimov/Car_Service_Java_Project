<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head"></head>
<body>
<header th:replace="fragments :: header"></header>
<h4>Register new Car Service</h4>
<div class="col-6">
    <form action="#" th:action="@{/carServices/create/}" th:object="${carService}" method="post">

        <div class="form-group">
            <label for="garage">Garage</label>
            <select class="form-control" th:field="${carService.garage}" id="garage">
                <option value="">Select Garage</option>
                <option th:each="garage : ${garages}" th:value="${garage.UIC}"
                        th:text="${garage.UIC} + ' -> ' + ${garage.name} "></option>
            </select>
        </div>

        <div class="form-group">
            <label for="employee">Employee</label>
            <select class="form-control" th:field="${carService.employee}" id="employee">
                <option value="">Select Employee</option>
                <option th:each="employee : ${employees}" th:value="${employee.employee.PID}"
                        th:text="${employee.employee.firstName} + ' ' + ${employee.employee.lastName} + ' -> ' + ${employee.garage.UIC}"></option>
            </select>
        </div>

        <div class="form-group">
            <label for="client">Client</label>
            <select class="form-control" th:field="${carService.client}" id="client">
                <option value="">Select Client</option>
                <option th:each="client : ${clients}" th:value="${client.PID}"
                        th:text="${client.firstName} + ' ' + ${client.lastName}"></option>
            </select>
        </div>

        <div class="form-group">
            <label for="car">Car</label>
            <select class="form-control" th:field="${carService.car}" id="car">
                <option value="">Select Car</option>
                <option th:each="car : ${cars}" th:value="${car.licensePlate}"
                        th:text="${car.licensePlate} + ' : ' + ${car.model.carBrand.brandName} + ' ' + ${car.model.carModel} + ' -> ' + ${car.owner.firstName} + ' ' + ${car.owner.lastName} "></option>
            </select>
        </div>

        <div class="form-group">
            <label for="carPart">Car Part</label>
            <select class="form-control" th:field="${carService.carPart}" id="carPart">
                <option value="">Select Car Part</option>
                <option th:each="carPart : ${carParts}" th:value="${carPart.partName}"
                        th:text="${carPart.partName}"></option>
            </select>
        </div>

        <div class="form-group">
            <label for="qualification">Work Needed</label>
            <select class="form-control"  th:field="${carService.qualification}" id="qualification">
                <option value="">Work Needed</option>
                <option th:each="qualification : ${qualifications}" th:value="${qualification.qualificationName}"
                        th:text="${qualification.qualificationName}"></option>
            </select>
        </div>

        <div class="form-group">
            <label for="dateOfService">Date Of Service</label>
            <input class="form-control" type="date" th:field="${carService.dateOfService}" id="dateOfService">
            <span class="text-danger" th:if="${#fields.hasErrors('dateOfService')}"
                  th:errors="${carService.dateOfService}">Service Date Error</span>
        </div>

        <div class="form-group">
            <label for="price">Price</label>
            <input class="form-control" type="text" th:field="${carService.price}"
                   placeholder="Price" id="price">
            <span class="text-danger" th:if="${#fields.hasErrors('price')}"
                  th:errors="${carService.price}">Price Error</span>
        </div>

        <button type="submit" class="btn btn-primary">Save Car Service</button>


    </form>
</div>
</body>
</html>